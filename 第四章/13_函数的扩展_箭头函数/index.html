<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <script>

        function fn1(x, y) {
            return x + y
        }

        // 第二种：赋值方式声明函数
        var fn2 = function (x, y) {
            return x + y
        }

        // 箭头函数 =>
        var fn3 = (x, y) => x + y

        console.log(fn3(10, 20));  // 30

        // 注意事项：如果箭头函数不需要参数或需要多个参数，就使用一个圆括号代表参数部分
        // 一个参数情况下
        var fn4 = x => x
        // 没有参数情况下
        var fn5 = () => 10
        // 多个参数情况下
        var fn6 = (x, y) => x + y


        // 如果箭头函数的代码块部分多于一条语句，就要使用大括号将它们括起来，并且使用 return 语句返回
        var fn7 = function (x, y) {
            var z = 10;
            return x + y + z
        }
        // 使用箭头函数改写
        var fn8 = (x, y) => {
            var z = 10;
            return x + y + z
        }


        // 由于大括号被解释为代码块，所以如果箭头函数直接返回一个对象，必须在对象外面加上括号，否则会报错。
        var fn9 = function () {
            return {
                x: 10,
                y: 20
            }
        }
        // 使用箭头函数改写
        var fn10 = () => ({ x: 10, y: 20 })


        // 箭头函数的一个用处是简化回调函数（匿名函数）
        var arr = [10, 20, 30];
        arr.map(function (element, index) {
            console.log(element);   // 10 20 30 
        })
        // 使用箭头函数改写
        arr.map((element, index) => {
            console.log(element);  // 10 20 30 
        })


        // 使用注意点：对于普通函数来说，内部的 this 指向函数运行时所在的对象，但是这一点对箭头函数不成立。
        // 它没有自己的 this 对象，内部的 this 就是定义时上层作用域中的 this
        // 箭头函数里面根本没有自己的 this ，而是引用外层的 this
        var name = "ime"
        var user = {
            name: "iwen",
            age: 20,
            getName() {
                setTimeout(() => {
                    console.log(this.name);  // iwen
                })
            }
        }
        user.getName();

    </script>

</body>

</html>